# é¡¹ç›®è¯´æ˜

æ‰“é€ å¯è‡ªå®šä¹‰çš„æ–°æ ‡ç­¾é¡µï¼šèƒŒæ™¯å¯åˆ‡æ¢ã€ç»„ä»¶å¯å¢åˆ æ‹–æ‹½ã€é…ç½®å¯æŒä¹…åŒ–ï¼ˆåŸºäº WXT Storageï¼‰ï¼Œæ”¯æŒå¤šé¡µé¢ä¸åç»­åŒæ­¥æ‰©å±•ã€‚

## é¡¹ç›®ç»“æ„

```html
ğŸ“‚ {rootDir}/ ğŸ“ .output/ ğŸ“ .wxt/ ğŸ“ assets/ ğŸ“ components/ ğŸ“ composables/ ğŸ“ entrypoints/ ğŸ“ hooks/ ğŸ“ modules/ ğŸ“
public/ ğŸ“ utils/ ğŸ“„ .env ğŸ“„ .env.publish ğŸ“„ app.config.ts ğŸ“„ package.json ğŸ“„ tsconfig.json ğŸ“„ web-ext.config.ts ğŸ“„
wxt.config.ts
```

ä»¥ä¸‹æ˜¯å„ä¸ªæ–‡ä»¶ä¸ç›®å½•çš„ç®€è¦è¯´æ˜:

- `.output/`: æ„å»ºå®Œæˆåçš„äº§ç‰©ä¼šå†™å…¥æ­¤ç›®å½•
- `.wxt/`: ç”± WXT è‡ªåŠ¨ç”Ÿæˆ,åŒ…å« TS é…ç½®
- `assets/`: å­˜æ”¾éœ€è¢« WXT å¤„ç†çš„ CSSã€å›¾ç‰‡ç­‰é™æ€èµ„æº
- `components/`: é»˜è®¤è‡ªåŠ¨å¯¼å…¥,ç”¨äºå­˜æ”¾ UI ç»„ä»¶
  - `components/layout/`ï¼šGridstack åŒ…è£…ç»„ä»¶ï¼Œè´Ÿè´£ init/sync/emit å¸ƒå±€å˜æ›´
  - `components/widgets/`ï¼šä¸šåŠ¡ç»„ä»¶å¡ç‰‡

- `composables/`: é»˜è®¤è‡ªåŠ¨å¯¼å…¥,å­˜æ”¾é¡¹ç›®çº§ Vue ç»„åˆå¼å‡½æ•°
- `entrypoints/`: å­˜æ”¾æ‰€æœ‰ä¼šè¢«æ‰“åŒ…æˆæ‰©å±•å…¥å£çš„ä»£ç 
  - `entrypoints/newtab/`ï¼šæ–°æ ‡ç­¾é¡µå…¥å£ï¼ˆ`App.vue` ç»„è£…å„ Widgetï¼Œ`types.ts` å®šä¹‰å¸ƒå±€ä¸æ•°æ®ç»“æ„ï¼‰
- `hooks/`: é»˜è®¤è‡ªåŠ¨å¯¼å…¥,å­˜æ”¾ React ä¸ Solid çš„ Hook
- `modules/`: å­˜æ”¾é¡¹ç›®æœ¬åœ°çš„ WXT æ¨¡å—
- `public/`: æ”¾ç½®æ— éœ€å¤„ç†å³å¯åŸæ ·å¤åˆ¶åˆ°è¾“å‡ºç›®å½•çš„æ–‡ä»¶
- `utils/`: é»˜è®¤è‡ªåŠ¨å¯¼å…¥,å­˜æ”¾é¡¹ç›®é€šç”¨å·¥å…·å‡½æ•°
- `.env`: å­˜æ”¾ç¯å¢ƒå˜é‡
- `.env.publish`: å­˜æ”¾ç”¨äºå‘å¸ƒæµç¨‹çš„ç¯å¢ƒå˜é‡
- `app.config.ts`: å®šä¹‰è¿è¡Œæ—¶é…ç½®
- `package.json`: åŒ…ç®¡ç†å·¥å…·ä½¿ç”¨çš„æ ‡å‡†é…ç½®æ–‡ä»¶
- `tsconfig.json`: æŒ‡å®š TypeScript çš„è¡Œä¸º
- `web-ext.config.ts`: æµè§ˆå™¨å¯åŠ¨ç›¸å…³é…ç½®
- `wxt.config.ts`: WXT é¡¹ç›®çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶

## é¡¹ç›®æ¦‚è§ˆ

- WXT + Vue3 æµè§ˆå™¨æ‰©å±•ï¼Œæ–°æ ‡ç­¾é¡µä¸»ç•Œé¢ä»¥ç½‘æ ¼å°ç»„ä»¶å‘ˆç°ï¼ˆGridstack å¯æ‹–æ‹½/è°ƒæ•´å°ºå¯¸ï¼‰

## æŠ€æœ¯æ ˆ

- æ„å»ºï¼šWXT 0.20 + Vite 7 + TypeScript
- å‰ç«¯ï¼šVue 3 + Tailwind CSS 4 + shadcn-vueï¼Œæ‹–æ‹½å¸ƒå±€ `gridstack`

## MCP Rules (MCP è°ƒç”¨è§„åˆ™) æ·»åŠ 

### shadcn-vue (shadcn-vueç»„ä»¶åº“)

- è§¦å‘ï¼šéœ€è¦æ–°çš„ç»„ä»¶æ—¶,æŸ¥æ‰¾shadcn-vueæ˜¯å¦å·²æœ‰ç›¸å…³ç»„ä»¶å¹¶å®‰è£…,ç¦æ­¢ç›´æ¥ç”Ÿæˆç»„ä»¶ä»£ç 

## çº¦å®šä¸æ³¨æ„äº‹é¡¹

- å°½å¯èƒ½çš„å°è£…componentså’Œcomposables
- ä¿æŒ shadcn ç»„ä»¶ä½¿ç”¨ CLI å®‰è£…ï¼Œåç»­æ–°å¢ç»„ä»¶åŒç†ï¼Œé¿å…è‡ªå®šä¹‰æ ·å¼ä¸åº“å†²çª
- æœ€å¤§åŒ–å¤ç”¨ shadcn çš„ variant/theme tokenï¼Œå·²é€‚åº”æš—è‰²æ¨¡å¼å’Œæ­£å¸¸æ¨¡å¼
- å¼€å‘æ–°åŠŸèƒ½æˆ–è€…ä¿®æ”¹åŠŸèƒ½åè¿è¡Œpnpm compileå¹¶ä¿®å¤æŠ¥é”™

<!-- ## âœ… ä»»åŠ¡æ”¶å°¾é€šçŸ¥è§„èŒƒ

- åœ¨ç»™å‡ºæœ€ç»ˆç­”å¤å‰ï¼Œå¿…é¡»ä½¿ç”¨ Chrome MCP å‘é€ç³»ç»Ÿçº§é€šçŸ¥ã€‚
- ä¼˜å…ˆæ–¹å¼ï¼šè°ƒç”¨ `mcp__chrome-devtools__evaluate_script` åœ¨å½“å‰é¡µé¢æ‰§è¡Œæµè§ˆå™¨é€šçŸ¥ï¼Œä¾‹å¦‚ï¼š
  `async () => {
     if (Notification.permission !== 'granted') await Notification.requestPermission();
     new Notification('ä¸‡è±¡æ ‡ç­¾ï¼ˆOmniTabï¼‰- ä»»åŠ¡å®Œæˆ', { body: '<ä¸€å¥è¯æ€»ç»“>' });
   }`
- é€šçŸ¥å†…å®¹è¦æ±‚ï¼šåŒ…å«é¡¹ç›®å + æœ¬æ¬¡å˜æ›´/ç»“è®º 1 å¥ã€‚
- è‹¥ç³»ç»Ÿé€šçŸ¥ä¸å¯ç”¨ï¼ˆæœªæˆæƒ/æµè§ˆå™¨é™åˆ¶/æ— é¡µé¢ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¿…é¡»åœ¨æœ€ç»ˆç­”å¤æœ«å°¾æ˜¾å¼æ ‡æ³¨â€œé€šçŸ¥é™çº§åŸå› â€ï¼Œå¹¶è¾“å‡ºåŒæ ·çš„æ‘˜è¦ä¿¡æ¯åå†ç»“æŸä»»åŠ¡ã€‚ -->
