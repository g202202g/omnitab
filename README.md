# 万象标签（OmniTab）

一个可自定义的新标签页：把常用信息和常用入口做成「卡片」，自由摆放，自动保存；也支持创建多个页面，让不同用途各用各的。

## 功能说明

- 多页面：一个新标签页里可以创建多个页面，按用途拆分更清爽
- 卡片布局：卡片可添加/删除/拖动/调整大小，布局会自动保存
- 背景与外观：每个页面可设置背景图片与遮罩，风格统一
- 常用卡片：搜索、网页卡片、书签、浏览历史、历史洞察、系统信息、常访问站点、下载任务、最近关闭、日历、时钟等
- 访问授权：部分卡片需要你手动开启访问授权；可查看已开启项、按需开启/撤销
- 备份与迁移：可导出/导入一份备份文件，方便换设备或恢复（导入会覆盖现有设置）
- 卡片导入导出：单个卡片也可导出为 JSON；添加卡片时支持从 JSON 导入
- 新手指引：一步步带你熟悉常用操作，可在设置里随时重新打开

## 使用说明

### 页面与侧边栏

- 左侧是页面栏：
  - 顶部 Logo：打开「设置」
  - 中间图标：切换页面
  - 底部加号：新建页面
- 快捷切换：按住 `Alt` 再按数字键 `1-9` 可快速切换页面

### 右上角工具

- 添加卡片：点右上角「+」
- 编辑模式：点铅笔/眼睛图标切换；打开编辑后：
  - 可拖动卡片、调整大小
  - 卡片右上角会出现操作按钮（设置/删除/更多）
  - 可使用「整理卡片」把布局排整齐（页面有卡片时可用）

### 访问授权

有些卡片需要访问授权才能展示内容（例如书签、浏览历史等）。你可以在「设置 → 访问授权」里：

- 查看哪些已经开启
- 按需开启某项授权
- 不需要时撤销授权

### 备份与迁移

在「设置 → 备份与迁移」里可以导出/导入备份文件：

- 导出：把当前设置保存成一个文件
- 导入：从备份文件恢复设置（会覆盖你现在的设置）
- 提示：访问授权不会包含在备份里，导入后需要你重新开启

## 开发说明

### 环境准备

- Node.js：以 `.node-version` 为准
- 包管理：`pnpm`

### 常用命令

- 安装依赖：`pnpm i`
- 开发调试：`pnpm dev`（Chrome） / `pnpm dev:firefox`
- 类型检查：`pnpm compile`
- 构建：`pnpm build` / `pnpm build:firefox`
- 打包：`pnpm zip` / `pnpm zip:firefox`
- 格式化：`pnpm format` / `pnpm format:check`
- 生成图标：`pnpm gen:icons`

### 开发约定

- 新增 UI 组件优先使用 `shadcn-vue` CLI 安装，避免手写一套导致样式不一致
- 代码里不要直接写 `console.log`，统一使用 `useLog`
- 本地导出的备份/卡片 JSON 不要提交（已在 `.gitignore` 忽略）

### 提交规范（用于自动发版）

本项目会根据提交信息自动生成版本号、更新记录和 Release 正文。为了让发布内容更清晰，请按下面规则提交：

- 格式：`类型(可选范围): 一句话说明`
- 常用类型：
  - `feat`：新增或增强用户能感知到的功能（会提升小版本号）
  - `fix`：修复问题（会提升修订号）
  - `docs`：文档调整
  - `refactor`：重构（不改变功能）
  - `perf`：性能优化
  - `chore` / `ci`：工程与流程调整（默认不会出现在 Release 正文里）
- 发版触发：
  - 只有 `feat` / `fix` / `perf` / `refactor` / 重大变化 才会自动发版并更新版本号
  - 仅 `docs` / `ci` / `chore` 的提交不会触发新版本
- 重大变化：
  - 标题加 `!`：`feat!: ...` / `fix(scope)!: ...`
  - 或在正文写一行：`BREAKING CHANGE: ...`
- 发布说明（推荐）：在提交正文写“要点列表”，每行以 `- ` 开头；不要写成 `\\n` 这种字符，直接换行即可

示例：

```text
feat(search): 支持自动聚焦

- 打开新标签页后可直接输入
- 如果浏览器不允许自动聚焦，会提示点一下开始输入
```

### 目录结构（简要）

- `entrypoints/newtab/`：新标签页入口与页面（`PageBoard`、`SettingsPage`）
- `components/layout/`：网格布局与侧边栏等结构组件
- `components/widgets/`：卡片与卡片表单，以及各类预设卡片
- `composables/`：全局复用逻辑（存储、页面/卡片状态、备份、引导等）

### 感谢以下ai项目 本项目基本由codex cli开发完成

- [88code](https://www.88code.ai/register?ref=PPSW5D)
- [Right Code](https://www.right.codes/register?aff=8A59CA77)
